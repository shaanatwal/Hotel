-- Uncomment whenever you start from a new location.
 CREATE DATABASE hotel_deliverable; 
USE hotel_deliverable; # we'll be calling our database hotel_deliverable 

-- After running everything, uncomment this to allow the node to run.
-- ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'root';

CREATE TABLE Hotel_Chain (
  chain_id INT PRIMARY KEY,
  chain_name VARCHAR(255) NOT NULL,
  number_of_hotels INT NOT NULL,
  street_number INT NOT NULL,
  street_name VARCHAR(255) NOT NULL,
  building_number VARCHAR(255),
  city VARCHAR(255) NOT NULL,
  province VARCHAR(255) NOT NULL,
  phone_number VARCHAR(255) NOT NULL,
  email_address VARCHAR(255) NOT NULL
);

CREATE TABLE Hotel (
  hotel_id INT PRIMARY KEY,
  chain_id INT NOT NULL,
  hotel_name VARCHAR(255) NOT NULL,
  street_number INT NOT NULL,
  street_name VARCHAR(255) NOT NULL,
  building_number VARCHAR(255),
  city VARCHAR(255) NOT NULL,
  province VARCHAR(255) NOT NULL,
  zip VARCHAR(255) NOT NULL,
  category_hotel INT NOT NULL, -- Stars from 1-5
  number_of_rooms INT NOT NULL,
  phone_number VARCHAR(255) NOT NULL,
  email_address VARCHAR(255) NOT NULL,
  INDEX foreign_hotel_name (hotel_name), -- add this line to create an index on hotel_name
  FOREIGN KEY (chain_id) REFERENCES Hotel_Chain(chain_id)
);

CREATE TABLE Room (
  room_id INT PRIMARY KEY,
  hotel_id INT NOT NULL,
  capacity INT NOT NULL,
  price DECIMAL(10,2) NOT NULL,
  amenities VARCHAR(255) NOT NULL,
  room_view VARCHAR(255) NOT NULL,
  room_extended INT NOT NULL,
  damages BOOLEAN NOT NULL,
  FOREIGN KEY (hotel_id) REFERENCES Hotel(hotel_id)
);

CREATE TABLE Employee (
  employee_id INT PRIMARY KEY NOT NULL,
  employee_username VARCHAR(255) NOT NULL,
  employee_password VARCHAR(255) NOT NULL,
  hotel_id INT NOT NULL,
  hotel_name VARCHAR(255) NOT NULL,
  employee_name VARCHAR(255) NOT NULL,
  street_number INT NOT NULL,
  street_name VARCHAR(255) NOT NULL,
  city VARCHAR(255) NOT NULL,
  province VARCHAR(255) NOT NULL,
  SSN VARCHAR(255) NOT NULL,
  job_role VARCHAR(255) NOT NULL,
  FOREIGN KEY (hotel_id) REFERENCES Hotel(hotel_id),
  CONSTRAINT foreign_hotel_name FOREIGN KEY (hotel_name) REFERENCES Hotel(hotel_name)
);

CREATE TABLE Booking (
   booking_id INT PRIMARY KEY NOT NULL,
   room_id INT NOT NULL,
   employee_id INT NOT NULL,
   customer_id INT NOT NULL,
   capacity INT NOT NULL,
   price DECIMAL(10,2) NOT NULL,
   amenities VARCHAR(255) NOT NULL,
   room_view VARCHAR(255) NOT NULL,
   room_extended INT NOT NULL,
   start_date DATE NOT NULL,
   end_date DATE NOT NULL,
   number_of_days INT NOT NULL,
   FOREIGN KEY (room_id) REFERENCES Room(room_id),
   FOREIGN KEY (employee_id) REFERENCES Employee(employee_id)
  -- FOREIGN KEY (customer_id) REFERENCES Customer(customer_id) ADDED BELOW
);

CREATE TABLE Customer(
   customer_id INT PRIMARY KEY NOT NULL,
   customer_username VARCHAR(255) NOT NULL,
   customer_password VARCHAR(255) NOT NULL,
   booking_id INT, -- Booking ID can be null, it will be instantiazed once a booking is made!
   renting_id INT,
   SSN INT NOT NULL,
   customer_name VARCHAR(255) NOT NULL,
   street_number INT NOT NULL,
   street_name VARCHAR(255) NOT NULL,
   building_number VARCHAR(255),
   city VARCHAR(255) NOT NULL,
   province VARCHAR(255) NOT NULL,
   zip VARCHAR(255) NOT NULL,
   date_of_registration DATE NOT NULL,
   FOREIGN KEY (booking_id) REFERENCES Booking(booking_id)
  -- FOREIGN KEY (renting_id) REFERENCES Renting(renting_id) ADD LATER
);

 ALTER TABLE Booking
 ADD FOREIGN KEY (customer_id) REFERENCES Customer(customer_id);

CREATE TABLE Renting(
   renting_id INT PRIMARY KEY NOT NULL,
   booking_id INT NOT NULL,
   employee_id INT NOT NULL,
   customer_id INT NOT NULL,
   room_id INT NOT NULL,
   capacity INT NOT NULL,
   price DECIMAL(10,2) NOT NULL,
   amenities VARCHAR(255) NOT NULL,
   room_view VARCHAR(255) NOT NULL,
   room_extended INT NOT NULL,
   check_in DATE NOT NULL,
   check_out DATE NOT NULL,
   days_rented INT NOT NULL,
   payment DECIMAL(10,2) NOT NULL,
   additional_charges DECIMAL(10,2) NOT NULL,
   FOREIGN KEY (employee_id) REFERENCES Employee(employee_id),
   FOREIGN KEY (customer_id) REFERENCES Customer(customer_id),
   FOREIGN KEY (booking_id) REFERENCES Booking(booking_id),
   FOREIGN KEY (room_id) REFERENCES Room(room_id)
);

INSERT INTO Hotel_Chain (chain_id, chain_name, number_of_hotels, street_number, street_name, building_number, city, province, phone_number, email_address) VALUES 
(1, 'Marriott', 8, 123, 'Main St', 'Suite 100', 'New York', 'NY', '212-555-1234', 'marriott@gmail.com'),
(2, 'Hilton', 8, 456, 'Broadway', NULL, 'Los Angeles', 'CA', '213-555-5678', 'hilton@gmail.com'),
(3, 'Hyatt', 8, 789, 'Market St', NULL, 'Chicago', 'IL', '312-555-9012', 'hyatt@gmail.com'),
(4, 'InterContinental', 8, 1213, 'Madison Avenue', NULL, 'New York', 'NY', '212-555-1213', 'intercontinental@gmail.com'),
(5, 'Four Seasons', 8, 1415, 'Park Avenue', NULL, 'New York', 'NY', '212-555-1415', 'fourseasons@gmail.com');

INSERT INTO Hotel (hotel_id, chain_id, hotel_name, street_number, street_name, building_number, city, province, zip, category_hotel, number_of_rooms, phone_number, email_address) VALUES 
(01, 1, 'Marriott Downtown', 10, 'Broadway', 'Suite 200', 'New York', 'NY', '10001', 2, 500, '212-555-1111', 'marriottdt@gmail.com'),
(02, 1, 'Marriott Midtown', 20, 'Fifth Ave', 'Suite 300', 'New York', 'NY', '10002', 4, 400, '212-555-2222', 'marriottmt@gmail.com'),
(03, 1, 'Marriott Waterfront', 100, 'Avenue of the Arts', 'Suite 400', 'Seattle', 'WA', '98121', 1, 350, '202-555-3333', 'marriottwf@gmail.com'),
(04, 1, 'Marriott Harbourfront', 500, 'Water St', 'Suite 1000', 'Halifax', 'NS', 'B3J 3Y5', 3, 350, '782-555-4444', 'marriotthf@gmail.com'),
(05, 1, 'Marriott Marquis', 1535, 'Broadway', 'Suite 1400', 'New York', 'NY', '10036', 5, 2000, '213-555-5555', 'marriottmq@gmail.com'),
(06, 1, 'Marriott Downtown LA', 900, 'West Olympic Blvd', 'Suite 3000', 'Los Angeles', 'CA', '90015', 3, 450, '423-555-6666', 'marriottdtla@gmail.com'),
(07, 1, 'Marriott San Francisco', 55, 'Fourth St', 'Suite 100', 'San Francisco', 'CA', '94103', 1, 400, '534-555-7777', 'marriottsf@gmail.com'),
(08, 1, 'Marriott Hollywood Beach', 2501, 'North Ocean Dr', 'Suite 1000', 'Hollywood', 'FL', '33019', 5, 350, '432-555-8888', 'marriotthb@gmail.com'),
(09, 2, 'Hilton Downtown', 30, 'Main St', 'Suite 400', 'Los Angeles', 'CA', '90001', 2, 300, '432-555-3333', 'hiltondt@gmail.com'),
(10, 2, 'Hilton Midtown', 40, 'Broadway', NULL, 'Los Angeles', 'CA', '90002', 3, 200, '543-555-4444', 'hiltonmt@gmail.com'),
(11, 2, 'Hilton Garden Inn', 50, 'Fifth Ave', NULL, 'Chicago', 'IL', '60601', 4, 150, '312-555-7777', 'hgichicago@gmail.com'),
(12, 2, 'Hampton Inn', 60, 'Michigan Ave', NULL, 'Chicago', 'IL', '60602', 5, 100, '312-555-8888', 'hamptonchicago@gmail.com'),
(13, 2, 'Hilton Resort', 70, 'Ocean Blvd', 'Suite 100', 'Miami', 'FL', '33101', 1, 400, '305-555-1111', 'hiltonresortmiami@gmail.com'),
(14, 2, 'DoubleTree by Hilton', 80, 'Collins Ave', NULL, 'Miami', 'FL', '33102', 2, 250, '305-555-2222', 'doubletreemiami@gmail.com'),
(15, 2, 'Hilton Garden Inn', 90, 'International Dr', 'Suite 500', 'Orlando', 'FL', '32801', 3, 150, '407-555-3333', 'hgiorlando@gmail.com'),
(16, 2, 'Homewood Suites by Hilton', 100, 'Universal Blvd', NULL, 'Orlando', 'FL', '32802', 4, 200, '407-555-4444', 'homewoodorlando@gmail.com'),
(17, 3, 'Hyatt Downtown', 50, 'Market St', NULL, 'Chicago', 'IL', '60007', 5, 150, '736-555-5555', 'hyattdt@gmail.com'),
(18, 3, 'Hyatt Midtown', 60, 'Michigan Ave', NULL, 'Chicago', 'IL', '60008', 2, 100, '534-555-6666', 'hyattmt@gmail.com'),
(19, 3, 'Hyatt Place', 101, 'East Erie St', NULL, 'Chicago', 'IL', '60009', 3, 200, '312-555-7777', 'hyattplace@gmail.com'),
(20, 3, 'Hyatt Regency', 200, 'South Third St', NULL, 'Phoenix', 'AZ', '85004', 4, 500, '602-555-8888', 'hyattregency@gmail.com'),
(21, 3, 'Hyatt House', 100, 'East Stanton Ave', NULL, 'Salt Lake City', 'UT', '84101', 5, 250, '801-555-9999', 'hyatthouse@gmail.com'),
(22, 3, 'Hyatt Centric', 250, 'West 43rd St', NULL, 'New York', 'NY', '10036', 1, 150, '212-555-0000', 'hyattcentric@gmail.com'),
(23, 3, 'Hyatt Ziva', 600, 'Carr Blvd', NULL, 'San Antonio', 'TX', '78209', 2, 350, '210-555-1111', 'hyattziva@gmail.com'),
(24, 3, 'Hyatt Regency', 900, 'North Michigan Ave', NULL, 'Chicago', 'IL', '60611', 3, 400, '312-555-2222', 'hyattregency2@gmail.com'),
(25, 4, 'InterContinental Downtown', 100, 'Robson St', NULL, 'Vancouver', 'BC', 'V6E 1A5', 4, 400, '604-555-5555', 'icdowntown@gmail.com'),
(26, 4, 'InterContinental Midtown', 200, 'Bloor St', NULL, 'Toronto', 'ON', 'M4W 1A7', 5, 300, '416-555-5555', 'icmidtown@gmail.com'),
(27, 4, 'InterContinental North York', 100, 'Sheppard Ave E', NULL, 'North York', 'ON', 'M2N 6X1', 1, 250, '416-555-6666', 'icnorthyork@gmail.com'),
(28, 4, 'InterContinental Old Montreal', 300, 'St Antoine St W', NULL, 'Montreal', 'QC', 'H2Z 1C6', 2, 150, '514-555-5555', 'icoldmontreal@gmail.com'),
(29, 4, 'InterContinental Mark Hopkins', 999, 'California St', NULL, 'San Francisco', 'CA', '94108', 3, 350, '415-555-5555', 'icmarkhopkins@gmail.com'),
(30, 4, 'InterContinental Barclay', 111, 'East 48th St', NULL, 'New York', 'NY', '10017', 4, 250, '212-555-5555', 'icbarclay@gmail.com'),
(31, 4, 'InterContinental Times Square', 300, 'West 44th St', NULL, 'New York', 'NY', '10036', 5, 400, '212-555-6666', 'ictsq@gmail.com'),
(32, 4, 'InterContinental Los Angeles', 900, 'Wilshire Blvd', NULL, 'Los Angeles', 'CA', '90017', 1, 300, '213-555-5555', 'icla@gmail.com'),
(33, 5, 'Four Seasons Downtown', 10, 'Broadway', 'Suite 200', 'New York', 'NY', '10001', 2, 500, '555-1111', 'fourseasonsdowntown@gmail.com'),
(34, 5, 'Four Seasons Midtown', 20, 'Fifth Ave', 'Suite 300', 'New York', 'NY', '10002', 3, 400, '555-2222', 'fourseasonsmidtown@gmail.com'),
(35, 5, 'Four Seasons Uptown', 30, 'Park Ave', 'Suite 400', 'New York', 'NY', '10003', 4, 300, '555-3333', 'fourseasonsu@gmail.com'),
(36, 5, 'Four Seasons Brooklyn', 40, 'Flatbush Ave', NULL, 'Brooklyn', 'NY', '11201', 5, 250, '555-4444', 'fourseasonsbk@gmail.com'),
(37, 5, 'Four Seasons Miami', 50, 'Collins Ave', NULL, 'Miami', 'FL', '33139', 1, 700, '555-5555', 'fourseasonsmiami@gmail.com'),
(38, 5, 'Four Seasons Beverly Hills', 60, 'Wilshire Blvd', NULL, 'Beverly Hills', 'CA', '90212', 2, 400, '555-6666', 'fourseasonsbh@gmail.com'),
(39, 5, 'Four Seasons San Francisco', 70, 'Market St', NULL, 'San Francisco', 'CA', '94102', 3, 350, '555-7777', 'fourseasonssf@gmail.com'),
(40, 5, 'Four Seasons Las Vegas', 80, 'Las Vegas Blvd', NULL, 'Las Vegas', 'NV', '89109', 4, 600, '555-8888', 'fourseasonslv@gmail.com');


INSERT INTO Employee (employee_id, employee_username, employee_password, hotel_id, hotel_name, employee_name, street_number, street_name, city, province, SSN, job_role) VALUES 
(1, 'user1', 'pass', 1, 'Marriott Downtown', 'John Smith', 1234, 'Main St', 'Toronto', 'Ontario', '123-456-789', 'Front Desk Clerk'),
(2, 'user2', 'pass', 2, 'Hilton Downtown', 'Jane Doe', 5678, 'Elm St', 'Vancouver', 'British Columbia', '987-654-321', 'Housekeeping'),
(3, 'user3', 'pass', 2, 'Marriott Midtown', 'Bob Johnson', 2468, 'Oak St', 'Calgary', 'Alberta', '111-222-333', 'Restaurant Server'),
(4, 'user4', 'pass', 4, 'Hilton Midtown', 'Jane Doe', 5678, 'Elm St', 'Vancouver', 'British Columbia', '987-654-321', 'Housekeeping'),
(5, 'user5', 'pass', 4, 'Hilton Midtown', 'John Paul', 1234, 'Elmer Ave', 'Vancouver', 'British Columbia', '947-555-955', 'Housekeeping'),
(6, 'user6', 'pass', 5, 'Hyatt Downtown', 'Bob Johnson', 2468, 'Oak St', 'Calgary', 'Alberta', '111-222-333', 'Restaurant Server');


INSERT INTO Room (room_id, hotel_id, capacity, price, amenities, room_view, room_extended, damages) VALUES 
 (1, 1, 2, 100.00, 'Free Wi-Fi, TV, Air conditioning', 'City view', 1, false),
 (2, 1, 4, 200.00, 'Free Wi-Fi, TV, Air conditioning, Mini-fridge, Kitchenette', 'Sea view', 0, true),
 (3, 2, 2, 150.00, 'Free Wi-Fi, TV, Air conditioning, Mini-fridge', 'Pool view', 1, false),
 (4, 3, 1, 75.00, 'Free Wi-Fi, TV, Air conditioning', 'Mountain view', 0, true),
 (5, 4, 3, 300.00, 'Free Wi-Fi, TV, Air conditioning, Mini-fridge, Kitchenette, Jacuzzi', 'Beach view', 1, false);
 
 
 INSERT INTO Customer (customer_id, customer_username, customer_password, booking_id, renting_id, SSN, customer_name, street_number, street_name, building_number, city, province, zip, date_of_registration) VALUES
(4, "Maria", "password", null, 4, 456789012, 'Maria Rodriguez', 40, 'Calle del Sol', 'Apt. 5', 'Madrid', 'Spain', '28013', '2023-04-04'),
(5, "username", "password", null,5, 567890123, 'Hiroshi Nakamura', 50, 'Shinjuku Street', NULL, 'Tokyo', 'Japan', '100-8001', '2023-04-05'),
(6, "a", "a", null,6, 678901234, 'Juan Perez', 60, 'Avenida Libertador', NULL, 'Caracas', 'Venezuela', '1050', '2023-04-06'),
(7, "123", "123", null,7, 789012345, 'Anna Kowalska', 70, 'Krakowska Street', 'Apt. 7', 'Krakow', 'Poland', '31-062', '2023-04-07'),
(8, "CoolNameBro", "Thanks!", null,8, 890123456, 'Mohammed Ahmed', 80, 'Al Wahda Road', NULL, 'Dubai', 'United Arab Emirates', '1246', '2023-04-08');

INSERT INTO Booking (booking_id, room_id, employee_id, customer_id, capacity, price, amenities, room_view, room_extended, start_date, end_date, number_of_days) VALUES 
 (1, 1, 1, 4, 2, 100.00, 'WiFi, TV', 'Mountain View', 0, '2023-05-01', '2023-05-05', 4),
 (2, 2, 2, 5, 4, 200.00, 'WiFi, TV, Minibar', 'City View', 1, '2023-06-10', '2023-06-14', 4),
 (3, 3, 3, 6, 1, 80.00, 'WiFi', 'No View', 0, '2023-07-20', '2023-07-23', 3),
 (4, 4, 4, 7, 3, 150.00, 'WiFi, TV, Balcony', 'Sea View', 1, '2023-08-15', '2023-08-19', 4),
 (5, 5, 5, 8, 2, 120.00, 'WiFi, TV, Pool', 'Garden View', 1, '2023-09-05', '2023-09-09', 4);


select * from Employee

